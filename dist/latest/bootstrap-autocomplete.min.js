(()=>{n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}))(t,e)};var n,i,s=(e=>{function t(t){return e.call(this,t)||this}var s=t,i=e;if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=s}return n(s,i),s.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o),t.prototype.getDefaults=function(){return{url:"",method:"get",queryKey:"q",extraData:{},timeout:void 0,requestThrottling:500}},t.prototype.search=function(t,e){var i=this,s=(null!=this.jqXHR&&this.jqXHR.abort(),{});s[this._settings.queryKey]=t,$.extend(s,this._settings.extraData),this.requestTID&&window.clearTimeout(this.requestTID),this.requestTID=window.setTimeout(function(){i.jqXHR=$.ajax(i._settings.url,{method:i._settings.method,data:s,timeout:i._settings.timeout}),i.jqXHR.done(function(t){e(t)}),i.jqXHR.fail(function(t){var e,s;void 0===(null==(e=i._settings)?void 0:e.fail)&&console.error(t),null!=(s=null==(e=i._settings)?void 0:e.fail)&&s.call(e,t)}),i.jqXHR.always(function(){i.jqXHR=null})},this._settings.requestThrottling)},t})((h.prototype.getDefaults=function(){return{}},h.prototype.getResults=function(t,e,s){return this.results},h.prototype.search=function(t,e){e(this.getResults())},h)),t=(a.prototype.init=function(){var e=this,t=$.extend({},this._$el.position(),{height:this._$el[0].offsetHeight});this._dd=$("<ul />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth()}),this._dd.on("click","li",function(t){t=$(t.currentTarget).data("item");e.itemSelectedLaunchEvent(t)}),this._dd.on("keyup",function(t){if(e.shown)return 27===t.which&&(e.hide(),e._$el.focus()),!1}),this._dd.on("mouseenter",function(t){e.ddMouseover=!0}),this._dd.on("mouseleave",function(t){e.ddMouseover=!1}),this._dd.on("mouseenter","li",function(t){e.haveResults&&($(t.currentTarget).closest("ul").find("li.active").removeClass("active"),$(t.currentTarget).addClass("active"),e.mouseover=!0)}),this._dd.on("mouseleave","li",function(t){e.mouseover=!1}),this.initialized=!0},a.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(a.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"haveResults",{get:function(){return 0<this.items.length},enumerable:!1,configurable:!0}),a.prototype.focusNextItem=function(t){var e,s;this.haveResults&&(e=this._dd.find("li.active"),0===(s=t?e.prev():e.next()).length&&(s=t?this._dd.find("li").last():this._dd.find("li").first()),e.removeClass("active"),s.addClass("active"))},a.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},a.prototype.selectFocusItem=function(){this._dd.find("li.active").trigger("click")},Object.defineProperty(a.prototype,"isItemFocused",{get:function(){return!!(this.isShown()&&0<this._dd.find("li.active").length)},enumerable:!1,configurable:!0}),a.prototype.show=function(){this.shown||(this._dd.dropdown().show(),this.shown=!0)},a.prototype.isShown=function(){return this.shown},a.prototype.hide=function(){this.shown&&(this._dd.dropdown().hide(),this.shown=!1)},a.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},a.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());return-1<s?(e=s+e.length,t.slice(0,s)+"<b>"+t.slice(s,e)+"</b>"+t.slice(e)):t},a.prototype.refreshItemList=function(){var t,o=this,n=(this.checkInitialized(),this._dd.empty(),[]);0<this.items.length?this.items.forEach(function(t){var e,s=o.formatItem(t),s=(e=o.showMatchedText((s="string"==typeof s?{text:s}:s).text,o.searchText),e=void 0!==s.html?s.html:e,s.disabled),i=$("<li >");i.append($("<a>").attr("href","#!").html(e)).data("item",t),s&&i.addClass("disabled"),n.push(i)}):((t=$("<li >")).append($("<a>").attr("href","#!").html(this.noResultsText)).addClass("disabled"),n.push(t)),this._dd.append(n)},a.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger("autocomplete.select",t)},a),e=(l.prototype.getElPos=function(){return $.extend({},this._$el.position(),{height:this._$el[0].offsetHeight})},l.prototype.init=function(){var s=this,t=this.getElPos();this._dd=$("<div />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth()}),this._dd.on("click",".dropdown-item",function(t){var e=$(t.currentTarget).data("item");s.itemSelectedLaunchEvent(e),t.preventDefault()}),this._dd.on("keyup",function(t){if(s.shown)return 27===t.which&&(s.hide(),s._$el.focus()),!1}),this._dd.on("mouseenter",function(t){s.ddMouseover=!0}),this._dd.on("mouseleave",function(t){s.ddMouseover=!1}),this._dd.on("mouseenter",".dropdown-item",function(t){s.haveResults&&($(t.currentTarget).closest("div").find(".dropdown-item.active").removeClass("active"),$(t.currentTarget).addClass("active"),s.mouseover=!0)}),this._dd.on("mouseleave",".dropdown-item",function(t){s.mouseover=!1}),this.initialized=!0},l.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(l.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"haveResults",{get:function(){return 0<this.items.length},enumerable:!1,configurable:!0}),l.prototype.focusNextItem=function(t){var e,s;this.haveResults&&(e=this._dd.find(".dropdown-item.active"),0===(s=t?e.prev():e.next()).length&&(s=t?this._dd.find(".dropdown-item").last():this._dd.find(".dropdown-item").first()),e.removeClass("active"),s.addClass("active"))},l.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},l.prototype.selectFocusItem=function(){this._dd.find(".dropdown-item.active").trigger("click")},Object.defineProperty(l.prototype,"isItemFocused",{get:function(){return!!(this._dd&&this.isShown()&&0<this._dd.find(".dropdown-item.active").length)},enumerable:!1,configurable:!0}),l.prototype.show=function(){this.shown||(this.getElPos(),this._dd.addClass("show"),this.shown=!0,this._$el.trigger("autocomplete.dd.shown"))},l.prototype.isShown=function(){return this.shown},l.prototype.hide=function(){this.shown&&(this._dd.removeClass("show"),this.shown=!1,this._$el.trigger("autocomplete.dd.hidden"))},l.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},l.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());return-1<s?(e=s+e.length,t.slice(0,s)+"<b>"+t.slice(s,e)+"</b>"+t.slice(e)):t},l.prototype.refreshItemList=function(){var t,o=this,n=(this.checkInitialized(),this._dd.empty(),[]);0<this.items.length?(this.items.forEach(function(t){var e,s=o.formatItem(t),s=(e=o.showMatchedText((s="string"==typeof s?{text:s}:s).text,o.searchText),e=void 0!==s.html?s.html:e,s.disabled),i=$("<a >");i.addClass("dropdown-item").css({overflow:"hidden","text-overflow":"ellipsis"}).html(e).data("item",t),s&&i.addClass("disabled"),n.push(i)}),this._dd.append(n),this.show()):""===this.noResultsText?this.hide():((t=$("<a >")).addClass("dropdown-item disabled").html(this.noResultsText),n.push(t),this._dd.append(n),this.show())},l.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger("autocomplete.select",t)},l),o=(r.prototype.manageInlineDataAttributes=function(){var t=this.getSettings();this._$el.data("url")&&(t.resolverSettings.url=this._$el.data("url")),this._$el.data("default-value")&&(this._defaultValue=this._$el.data("default-value")),this._$el.data("default-text")&&(this._defaultText=this._$el.data("default-text")),void 0!==this._$el.data("noresults-text")&&(t.noResultsText=this._$el.data("noresults-text"))},r.prototype.getSettings=function(){return this._settings},r.prototype.getBootstrapVersion=function(){var t="auto"===this._settings.bootstrapVersion?$.fn.button.Constructor.VERSION.split(".").map(parseInt):"4"===this._settings.bootstrapVersion?[4]:"3"===this._settings.bootstrapVersion?[3]:(console.error("INVALID value for 'bootstrapVersion' settings property: ".concat(this._settings.bootstrapVersion," defaulting to 4")),[4]);return t},r.prototype.convertSelectToText=function(){var t=$("<input>"),t=(t.attr("type","hidden"),t.attr("name",this._$el.attr("name")),this._defaultValue&&t.val(this._defaultValue),(this._selectHiddenField=t).insertAfter(this._$el),$("<input>")),e=(t.attr("type","search"),t.attr("name",this._$el.attr("name")+"_text"),t.attr("id",this._$el.attr("id")),t.attr("disabled",this._$el.attr("disabled")),t.attr("placeholder",this._$el.attr("placeholder")),t.attr("autocomplete","off"),t.addClass(this._$el.attr("class")),this._defaultText&&t.val(this._defaultText),this._$el.attr("required"));e&&t.attr("required",e),t.data(r.NAME,this),this._$el.replaceWith(t),this._$el=t,this._el=t.get(0)},r.prototype.init=function(){this.bindDefaultEventListeners(),"ajax"===this._settings.resolver&&(this.resolver=new s(this._settings.resolverSettings)),4===this.getBootstrapVersion()[0]?this._dd=new e(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText):this._dd=new t(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText)},r.prototype.bindDefaultEventListeners=function(){var s=this;this._$el.on("keydown",function(t){switch(t.which){case 9:s._dd.isItemFocused?s._dd.selectFocusItem():s._selectedItem||""!==s._$el.val()&&s._$el.trigger("autocomplete.freevalue",s._$el.val()),s._dd.hide();break;case 13:s._dd.isItemFocused?s._dd.selectFocusItem():s._selectedItem||""!==s._$el.val()&&s._$el.trigger("autocomplete.freevalue",s._$el.val()),s._dd.hide(),s._settings.preventEnter&&t.preventDefault();break;case 40:s._dd.focusNextItem();break;case 38:s._dd.focusPreviousItem()}}),this._$el.on("keyup",function(t){switch(t.which){case 16:case 17:case 18:case 39:case 37:case 36:case 35:case 40:case 38:break;case 13:case 27:s._dd.hide();break;default:s._selectedItem=null;var e=s._$el.val();s.handlerTyped(e)}}),this._$el.on("blur",function(t){!s._dd.isMouseOver&&s._dd.isDdMouseOver&&s._dd.isShown()?(setTimeout(function(){s._$el.focus()}),s._$el.focus()):s._dd.isMouseOver||(s._isSelectElement?s._dd.isItemFocused?s._dd.selectFocusItem():(null!==s._selectedItem&&""!==s._$el.val()||(""!==s._$el.val()&&null!==s._defaultValue?(s._$el.val(s._defaultText),s._selectHiddenField.val(s._defaultValue)):(s._$el.val(""),s._selectHiddenField.val("")),s._selectedItem=null),s._$el.trigger("autocomplete.select",s._selectedItem)):null===s._selectedItem&&s._$el.trigger("autocomplete.freevalue",s._$el.val()),s._dd.hide())}),this._$el.on("autocomplete.select",function(t,e){s._selectedItem=e,s.itemSelectedDefaultHandler(e)}),this._$el.on("paste",function(t){setTimeout(function(){s._$el.trigger("keyup",t)},0)})},r.prototype.handlerTyped=function(t){null!==this._settings.events.typed&&!(t=this._settings.events.typed(t,this._$el))||(t.length>=this._settings.minLength?(this._searchText=t,this.handlerPreSearch()):this._dd.hide())},r.prototype.handlerPreSearch=function(){if(null!==this._settings.events.searchPre){var t=this._settings.events.searchPre(this._searchText,this._$el);if(!t)return;this._searchText=t}this.handlerDoSearch()},r.prototype.handlerDoSearch=function(){var e=this;null!==this._settings.events.search?this._settings.events.search(this._searchText,function(t){e.postSearchCallback(t)},this._$el):this.resolver&&this.resolver.search(this._searchText,function(t){e.postSearchCallback(t)})},r.prototype.postSearchCallback=function(t){this._settings.events.searchPost&&"boolean"==typeof(t=this._settings.events.searchPost(t,this._$el))&&!t||this.handlerStartShow(t)},r.prototype.handlerStartShow=function(t){this._dd.updateItems(t,this._searchText)},r.prototype.itemSelectedDefaultHandler=function(t){var e;null!=t?(e=this._settings.formatResult(t),this._$el.val((e="string"==typeof e?{text:e}:e).text),this._isSelectElement&&this._selectHiddenField.val(e.value)):(this._$el.val(""),this._isSelectElement&&this._selectHiddenField.val("")),this._selectedItem=t,this._dd.hide()},r.prototype.defaultFormatResult=function(t){return"string"==typeof t?{text:t}:t.text?t:{text:t.toString()}},r.prototype.manageAPI=function(t,e){"set"===t?this.itemSelectedDefaultHandler(e):"clear"===t?this.itemSelectedDefaultHandler(null):"show"===t?this._$el.trigger("keyup"):"updateResolver"===t&&(this.resolver=new s(e))},r.NAME="autoComplete",r);function r(t,e){this._selectedItem=null,this._defaultValue=null,this._defaultText=null,this._isSelectElement=!1,this._settings={resolver:"ajax",resolverSettings:{},minLength:3,valueKey:"value",formatResult:this.defaultFormatResult,autoSelect:!0,noResultsText:"No results",bootstrapVersion:"auto",preventEnter:!1,events:{typed:null,searchPre:null,search:null,searchPost:null,select:null,focus:null}},this._el=t,this._$el=$(this._el),this._$el.is("select")&&(this._isSelectElement=!0),this.manageInlineDataAttributes(),"object"==typeof e&&(this._settings=$.extend(!0,{},this.getSettings(),e)),this._isSelectElement&&this.convertSelectToText(),this.init()}function l(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}function a(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}function h(t){this._settings=$.extend(!0,{},this.getDefaults(),t)}i=jQuery,window,document,i.fn[o.NAME]=function(e,s){return this.each(function(){var t;(t=i(this).data(o.NAME))||(t=new o(this,e),i(this).data(o.NAME,t)),t.manageAPI(e,s)})}})();